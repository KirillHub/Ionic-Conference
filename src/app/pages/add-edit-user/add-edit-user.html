<ion-content class="ion-padding">
  <ion-header class="ion-padding">
    <ion-row>
      <ion-col size="12" size-md="6">
        <ion-title
          >{{isUserId ? ( "edit_user" | translate) : ( "add_user"| translate )
          }}</ion-title
        >
      </ion-col>
      <ion-col size="12" size-md="6" class="ion-text-end">
        <ion-button type="submit" (click)="onSave()"
          >{{'save' | uppercase}}</ion-button
        >
        <back-route-btn></back-route-btn>
      </ion-col>
    </ion-row>
  </ion-header>

  <div>
    <form [formGroup]="userDataForm">
      <ion-grid class="md hydrated">
        <ion-row>
          <ion-col sizeXl="6" size="12">
            <ion-card>
              <ion-header class="ion-padding">
                {{isUserId ? ("edit_user_data" | translate) : ("create_new_user"
                | translate)}}
              </ion-header>

              <ion-grid>
                <ion-row style="width: 100%">
                  <ion-col sizeXl="6" size="12">
                    <ion-item *ngIf="!isLoadingPage">
                      <ion-label position="stacked" class="ion-padding-bottom"
                        >{{'user_name' | translate}}
                        <ion-text color="danger">*</ion-text></ion-label
                      >
                      <ion-input
                        [label]="isUserId ? '' : 'name'"
                        label-placement="floating"
                        fill="solid"
                        formControlName="name"
                        placeholder="{{'insert_user_name' | translate}}"
                      ></ion-input>
                      <ion-item
                        lines="none"
                        class="text-bold"
                        *ngIf="isLoadingPage"
                      >
                        <ion-label position="stacked" color="tertiary">
                          <ion-skeleton-text animated class="skeleton-label">
                          </ion-skeleton-text>
                        </ion-label>
                        <ion-skeleton-text
                          animated
                          class="skeleton-input-normal"
                        ></ion-skeleton-text>
                      </ion-item>
                      <div
                        class="error-container ion-padding-top ion-padding-bottom"
                      >
                        <ng-container
                          *ngFor="let validation of validations.name"
                        >
                          <div
                            *ngIf="userDataForm.get('name').hasError(validation.type) && (userDataForm.get('name').dirty || userDataForm.get('name').touched)"
                          >
                            <ion-text color="danger" class="text-small"
                              ><ion-icon
                                color="danger"
                                name="warning"
                              ></ion-icon
                              >{{ validation.message }}</ion-text
                            >
                          </div>
                        </ng-container>
                      </div>
                    </ion-item>
                  </ion-col>

                  <ion-col sizeXl="6" size="12">
                    <ion-item *ngIf="!isLoadingPage">
                      <ion-label position="stacked" class="ion-padding-bottom"
                        >{{'user_gender' | translate}}
                        <ion-text color="danger">*</ion-text></ion-label
                      >
                      <ion-input
                        [label]="isUserId ? '' : 'gender'"
                        label-placement="floating"
                        fill="solid"
                        formControlName="gender"
                        placeholder="{{'insert_user_gender' | translate}}"
                      ></ion-input>
                      <ion-item
                        lines="none"
                        class="text-bold"
                        *ngIf="isLoadingPage"
                      >
                        <ion-label position="stacked" color="tertiary">
                          <ion-skeleton-text animated class="skeleton-label">
                          </ion-skeleton-text>
                        </ion-label>
                        <ion-skeleton-text
                          animated
                          class="skeleton-input-normal"
                        ></ion-skeleton-text>
                      </ion-item>
                      <div
                        class="error-container ion-padding-top ion-padding-bottom"
                      >
                        <ng-container
                          *ngFor="let validation of validations.gender"
                        >
                          <div
                            *ngIf="userDataForm.get('gender').hasError(validation.type) && (userDataForm.get('gender').dirty || userDataForm.get('gender').touched)"
                          >
                            <ion-text color="danger" class="text-small"
                              ><ion-icon
                                color="danger"
                                name="warning"
                              ></ion-icon
                              >{{ validation.message }}</ion-text
                            >
                          </div>
                        </ng-container>
                      </div>
                    </ion-item>
                  </ion-col>

                  <ion-col sizeXl="6" size="12">
                    <ion-item *ngIf="!isLoadingPage">
                      <ion-label position="stacked" class="ion-padding-bottom"
                        >picture
                        <ion-text color="danger">*</ion-text></ion-label
                      >
                      <ion-input
                        [label]="isUserId ? '' : 'picture'"
                        label-placement="floating"
                        fill="solid"
                        formControlName="picture"
                        placeholder="{{'insert_user_picture_link' | translate}}"
                      ></ion-input>
                      <div
                        class="error-container ion-padding-top ion-padding-bottom"
                      >
                        <ng-container
                          *ngFor="let validation of validations.picture"
                        >
                          <div
                            *ngIf="userDataForm.get('picture').hasError(validation.type) && (userDataForm.get('picture').dirty || userDataForm.get('picture').touched)"
                          >
                            <ion-text color="danger" class="text-small"
                              ><ion-icon
                                color="danger"
                                name="warning"
                              ></ion-icon
                              >{{ validation.message }}</ion-text
                            >
                          </div>
                        </ng-container>
                      </div>
                    </ion-item>
                  </ion-col>

                  <ion-col sizeXl="6" size="12">
                    <ion-item *ngIf="!isLoadingPage">
                      <ion-label position="stacked" class="ion-padding-bottom"
                        >email <ion-text color="danger">*</ion-text></ion-label
                      >
                      <ion-input
                        [label]="isUserId ? '' : 'email'"
                        label-placement="floating"
                        fill="solid"
                        formControlName="email"
                        placeholder="{{'user_email_missed_error' | translate}}"
                      ></ion-input>

                      <div
                        class="error-container ion-padding-top ion-padding-bottom"
                      >
                        <ng-container
                          *ngFor="let validation of validations.email"
                        >
                          <div
                            *ngIf="userDataForm.get('email').hasError(validation.type) && (userDataForm.get('email').dirty || userDataForm.get('email').touched)"
                          >
                            <ion-text color="danger" class="text-small"
                              ><ion-icon
                                color="danger"
                                name="warning"
                              ></ion-icon
                              >{{ validation.message }}</ion-text
                            >
                          </div>
                        </ng-container>
                      </div>
                    </ion-item>
                  </ion-col>

                  <ion-col sizeXl="6" size="12">
                    <ion-item *ngIf="!isLoadingPage">
                      <ion-label position="stacked" class="ion-padding-bottom"
                        >phone <ion-text color="danger">*</ion-text></ion-label
                      >
                      <ion-input
                        [label]="isUserId ? '' : 'phone'"
                        label-placement="floating"
                        fill="solid"
                        formControlName="phone"
                        placeholder="{{'user_phone_missed_error' | translate}}"
                        inputFormat="numeric"
                        type="tel"
                        minlength="8"
                        maxlength="15"
                      ></ion-input>

                      <div
                        class="error-container ion-padding-top ion-padding-bottom"
                      >
                        <ng-container
                          *ngFor="let validation of validations.phone"
                        >
                          <div
                            *ngIf="userDataForm.get('phone').hasError(validation.type) && (userDataForm.get('phone').dirty || userDataForm.get('phone').touched)"
                          >
                            <ion-text color="danger" class="text-small"
                              ><ion-icon
                                color="danger"
                                name="warning"
                              ></ion-icon
                              >{{ validation.message }}</ion-text
                            >
                          </div>
                        </ng-container>
                      </div>
                    </ion-item>
                  </ion-col>

                  <ion-col sizeXl="6" size="12">
                    <ion-item *ngIf="!isLoadingPage">
                      <ion-label position="stacked" class="ion-padding-bottom"
                        >city <ion-text color="danger">*</ion-text></ion-label
                      >
                      <ion-input
                        [label]="isUserId ? '' : 'city'"
                        label-placement="floating"
                        fill="solid"
                        formControlName="city"
                        placeholder="{{'user_city_missed_error' | translate}}"
                      ></ion-input>

                      <div
                        class="error-container ion-padding-top ion-padding-bottom"
                      >
                        <ng-container
                          *ngFor="let validation of validations.city"
                        >
                          <div
                            *ngIf="userDataForm.get('city').hasError(validation.type) && (userDataForm.get('city').dirty || userDataForm.get('city').touched)"
                          >
                            <ion-text color="danger" class="text-small"
                              ><ion-icon
                                color="danger"
                                name="warning"
                              ></ion-icon
                              >{{ validation.message }}</ion-text
                            >
                          </div>
                        </ng-container>
                      </div>
                    </ion-item>
                  </ion-col>

                  <ion-col sizeXl="6" size="12">
                    <ion-item *ngIf="!isLoadingPage">
                      <ion-label position="stacked" class="ion-padding-bottom"
                        >country
                        <ion-text color="danger">*</ion-text></ion-label
                      >
                      <ion-input
                        [label]="isUserId ? '' : 'country'"
                        label-placement="floating"
                        fill="solid"
                        formControlName="country"
                        placeholder="{{'user_country_missed_error' | translate}}"
                      ></ion-input>

                      <div
                        class="error-container ion-padding-top ion-padding-bottom"
                      >
                        <ng-container
                          *ngFor="let validation of validations.country"
                        >
                          <div
                            *ngIf="userDataForm.get('country').hasError(validation.type) && (userDataForm.get('country').dirty || userDataForm.get('country').touched)"
                          >
                            <ion-text color="danger" class="text-small"
                              ><ion-icon
                                color="danger"
                                name="warning"
                              ></ion-icon
                              >{{ validation.message }}</ion-text
                            >
                          </div>
                        </ng-container>
                      </div>
                    </ion-item>
                  </ion-col>

                  <ion-col sizeXl="6" size="12">
                    <ion-item *ngIf="!isLoadingPage">
                      <ion-label position="stacked" class="ion-padding-bottom"
                        >decription
                        <ion-text color="danger">*</ion-text></ion-label
                      >
                      <ion-input
                        [label]="isUserId ? '' : 'description'"
                        label-placement="floating"
                        fill="solid"
                        formControlName="description"
                        placeholder="{{'insert_user_description' | translate}}"
                      ></ion-input>
                      <div
                        class="error-container ion-padding-top ion-padding-bottom"
                      >
                        <ng-container>
                          <div
                            *ngIf="userDataForm.get('description').hasError('minlenght') && userDataForm.get('description').hasError('maxlenght') && (userDataForm.get('description').dirty || userDataForm.get('description').touched)"
                          >
                            <ion-text color="danger" class="text-small"
                              ><ion-icon
                                color="danger"
                                name="warning"
                              ></ion-icon>
                              Length !!!!
                            </ion-text>
                          </div>
                        </ng-container>
                      </div>
                    </ion-item>
                  </ion-col>
                </ion-row>
              </ion-grid>
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-grid>
    </form>
  </div>
</ion-content>
